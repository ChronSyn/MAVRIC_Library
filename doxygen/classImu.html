<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MAV&#39;RIC: Imu Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAV&#39;RIC
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Imu Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Imu" -->
<p>Inertial measurement unit (IMU)  
 <a href="classImu.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="imu_8hpp_source.html">imu.hpp</a>&gt;</code></p>

<p><a href="classImu-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c65a502923f48c797f7548df754ff7c"></a><!-- doxytag: member="Imu::Imu" ref="a4c65a502923f48c797f7548df754ff7c" args="(Accelerometer &amp;accelerometer, Gyroscope &amp;gyroscope, Magnetometer &amp;magnetometer, imu_conf_t config=imu_default_config())" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a4c65a502923f48c797f7548df754ff7c">Imu</a> (<a class="el" href="classAccelerometer.html">Accelerometer</a> &amp;accelerometer, <a class="el" href="classGyroscope.html">Gyroscope</a> &amp;gyroscope, <a class="el" href="classMagnetometer.html">Magnetometer</a> &amp;magnetometer, <a class="el" href="structimu__conf__t.html">imu_conf_t</a> config=imu_default_config())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#af02e49dcc3c53c8907f5abed61300b53">update</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main update.  <a href="#af02e49dcc3c53c8907f5abed61300b53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const float &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a92ded52326d119f04ed38e202b340bf0">last_update_us</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get last update time in microseconds.  <a href="#a92ded52326d119f04ed38e202b340bf0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const float &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#abdd7a53ccd0ee2008674f0b4a2a1d58d">dt_s</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get time between two last updates in seconds.  <a href="#abdd7a53ccd0ee2008674f0b4a2a1d58d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::array&lt; float, 3 &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a51e30d145a6b2970d0ff8d8c6a982329">acc</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get X, Y and Z components of acceleration in g.  <a href="#a51e30d145a6b2970d0ff8d8c6a982329"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::array&lt; float, 3 &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a1c9d0538ed5e4c159de6b7dc1d44b3b2">gyro</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get X, Y and Z components of angular velocity in rad/s.  <a href="#a1c9d0538ed5e4c159de6b7dc1d44b3b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::array&lt; float, 3 &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a44da2e3f7ec6d731fe6187ca1a59d75a">mag</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get X, Y and Z components of magnetic field (normalized)  <a href="#a44da2e3f7ec6d731fe6187ca1a59d75a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const std::array&lt; float, 3 &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a4c4e9d92bfac136f435fb85bfb8f7fbb">magnetic_north</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get X, Y and Z components of magnetic north (in NED frame)  <a href="#a4c4e9d92bfac136f435fb85bfb8f7fbb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a066f63054b730605afc31ee0c19daae1">is_ready</a> (void) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the readiness of the IMU.  <a href="#a066f63054b730605afc31ee0c19daae1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structimu__conf__t.html">imu_conf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#adc14809ab2886ccadeb35f9ede31a1fb">get_config</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary method to get pointer to configuration.  <a href="#adc14809ab2886ccadeb35f9ede31a1fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#abcebc61b38b6f1281970331a2ffab0ad">start_accelerometer_bias_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start accelerometer bias calibration.  <a href="#abcebc61b38b6f1281970331a2ffab0ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a6e3093edec77f8276601c5421aa61cb2">start_gyroscope_bias_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start gyroscope bias calibration.  <a href="#a6e3093edec77f8276601c5421aa61cb2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a39a925978d0ec683c83d942d0d70822d">start_magnetometer_bias_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start magnetometer bias calibration.  <a href="#a39a925978d0ec683c83d942d0d70822d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a34d5d16b124054ce5e9b0cedfce1672e">start_magnetic_north_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start calibration of magnetic field inclination.  <a href="#a34d5d16b124054ce5e9b0cedfce1672e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a5455d91545d19a136b5cf92519daeec1">stop_accelerometer_bias_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop accelerometer bias calibration.  <a href="#a5455d91545d19a136b5cf92519daeec1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a66b1dfbebdce8334d1759c829e6e8d8a">stop_gyroscope_bias_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop gyroscope bias calibration.  <a href="#a66b1dfbebdce8334d1759c829e6e8d8a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#a90376d4f0fb362e2f3bfaa90d5f78f7c">stop_magnetometer_bias_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop magnetometer bias calibration.  <a href="#a90376d4f0fb362e2f3bfaa90d5f78f7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classImu.html#add6b6798ab385e2bddc443a54ee7734c">stop_magnetic_north_calibration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop calibration of magnetic inclination.  <a href="#add6b6798ab385e2bddc443a54ee7734c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Inertial measurement unit (IMU) </p>
<p>This module gathers new data from inertial sensors and takes care of rotating, removing bias, and scaling raw sensor values (in this order)</p>
<p>If this module is used, then it is not needed to call each sensor's update function. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a51e30d145a6b2970d0ff8d8c6a982329"></a><!-- doxytag: member="Imu::acc" ref="a51e30d145a6b2970d0ff8d8c6a982329" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::array&lt; float, 3 &gt; &amp; <a class="el" href="classImu.html#a51e30d145a6b2970d0ff8d8c6a982329">Imu::acc</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get X, Y and Z components of acceleration in g. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classImu_a51e30d145a6b2970d0ff8d8c6a982329_icgraph.png" border="0" usemap="#classImu_a51e30d145a6b2970d0ff8d8c6a982329_icgraph" alt=""/></div>
<map name="classImu_a51e30d145a6b2970d0ff8d8c6a982329_icgraph" id="classImu_a51e30d145a6b2970d0ff8d8c6a982329_icgraph">
<area shape="rect" id="node3" href="classAhrs__ekf.html#af35c5a2e2b038e9196a159a025b98514" title="Performs the EKF algorithm." alt="" coords="129,5,249,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abdd7a53ccd0ee2008674f0b4a2a1d58d"></a><!-- doxytag: member="Imu::dt_s" ref="abdd7a53ccd0ee2008674f0b4a2a1d58d" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float &amp; <a class="el" href="classImu.html#abdd7a53ccd0ee2008674f0b4a2a1d58d">Imu::dt_s</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get time between two last updates in seconds. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value </dd></dl>

</div>
</div>
<a class="anchor" id="adc14809ab2886ccadeb35f9ede31a1fb"></a><!-- doxytag: member="Imu::get_config" ref="adc14809ab2886ccadeb35f9ede31a1fb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structimu__conf__t.html">imu_conf_t</a> * <a class="el" href="classImu.html#adc14809ab2886ccadeb35f9ede31a1fb">Imu::get_config</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Temporary method to get pointer to configuration. </p>
<p>Used to add onboard parameters for the biases and scales TODO: make it possible to set/get parameters via methods calls instead of via pointers and remove this method </p>

</div>
</div>
<a class="anchor" id="a1c9d0538ed5e4c159de6b7dc1d44b3b2"></a><!-- doxytag: member="Imu::gyro" ref="a1c9d0538ed5e4c159de6b7dc1d44b3b2" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::array&lt; float, 3 &gt; &amp; <a class="el" href="classImu.html#a1c9d0538ed5e4c159de6b7dc1d44b3b2">Imu::gyro</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get X, Y and Z components of angular velocity in rad/s. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classImu_a1c9d0538ed5e4c159de6b7dc1d44b3b2_icgraph.png" border="0" usemap="#classImu_a1c9d0538ed5e4c159de6b7dc1d44b3b2_icgraph" alt=""/></div>
<map name="classImu_a1c9d0538ed5e4c159de6b7dc1d44b3b2_icgraph" id="classImu_a1c9d0538ed5e4c159de6b7dc1d44b3b2_icgraph">
<area shape="rect" id="node3" href="classAhrs__ekf.html#af35c5a2e2b038e9196a159a025b98514" title="Performs the EKF algorithm." alt="" coords="132,5,252,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a066f63054b730605afc31ee0c19daae1"></a><!-- doxytag: member="Imu::is_ready" ref="a066f63054b730605afc31ee0c19daae1" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a066f63054b730605afc31ee0c19daae1">Imu::is_ready</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the readiness of the IMU. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the IMU is ready, false otherwise </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classImu_a066f63054b730605afc31ee0c19daae1_icgraph.png" border="0" usemap="#classImu_a066f63054b730605afc31ee0c19daae1_icgraph" alt=""/></div>
<map name="classImu_a066f63054b730605afc31ee0c19daae1_icgraph" id="classImu_a066f63054b730605afc31ee0c19daae1_icgraph">
<area shape="rect" id="node3" href="classState__machine.html#adc9937097ff3a01676c57836ed8dd522" title="Updates the state machine." alt="" coords="156,5,311,35"/><area shape="rect" id="node5" href="classAhrs__ekf.html#af35c5a2e2b038e9196a159a025b98514" title="Performs the EKF algorithm." alt="" coords="173,59,293,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92ded52326d119f04ed38e202b340bf0"></a><!-- doxytag: member="Imu::last_update_us" ref="a92ded52326d119f04ed38e202b340bf0" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float &amp; <a class="el" href="classImu.html#a92ded52326d119f04ed38e202b340bf0">Imu::last_update_us</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get last update time in microseconds. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value </dd></dl>

</div>
</div>
<a class="anchor" id="a44da2e3f7ec6d731fe6187ca1a59d75a"></a><!-- doxytag: member="Imu::mag" ref="a44da2e3f7ec6d731fe6187ca1a59d75a" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::array&lt; float, 3 &gt; &amp; <a class="el" href="classImu.html#a44da2e3f7ec6d731fe6187ca1a59d75a">Imu::mag</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get X, Y and Z components of magnetic field (normalized) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value </dd></dl>

</div>
</div>
<a class="anchor" id="a4c4e9d92bfac136f435fb85bfb8f7fbb"></a><!-- doxytag: member="Imu::magnetic_north" ref="a4c4e9d92bfac136f435fb85bfb8f7fbb" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::array&lt; float, 3 &gt; &amp; <a class="el" href="classImu.html#a4c4e9d92bfac136f435fb85bfb8f7fbb">Imu::magnetic_north</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get X, Y and Z components of magnetic north (in NED frame) </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value </dd></dl>

</div>
</div>
<a class="anchor" id="abcebc61b38b6f1281970331a2ffab0ad"></a><!-- doxytag: member="Imu::start_accelerometer_bias_calibration" ref="abcebc61b38b6f1281970331a2ffab0ad" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#abcebc61b38b6f1281970331a2ffab0ad">Imu::start_accelerometer_bias_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start accelerometer bias calibration. </p>
<p>Should not be used in flight Keep the platform perfectly level during the calibration phase</p>
<p>WARNING: Compatible with gyroscope bias calibration Incompatible with magnetometer bias calibration</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already started and no incompatible calibration ongoing </dd></dl>

</div>
</div>
<a class="anchor" id="a6e3093edec77f8276601c5421aa61cb2"></a><!-- doxytag: member="Imu::start_gyroscope_bias_calibration" ref="a6e3093edec77f8276601c5421aa61cb2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a6e3093edec77f8276601c5421aa61cb2">Imu::start_gyroscope_bias_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start gyroscope bias calibration. </p>
<p>Should not be used in flight Keep the platform perfectly level during the calibration phase</p>
<p>WARNING: Compatible with accelerometer bias calibration Incompatible with magnetometer bias calibration</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already started and no incompatible calibration ongoing </dd></dl>

</div>
</div>
<a class="anchor" id="a34d5d16b124054ce5e9b0cedfce1672e"></a><!-- doxytag: member="Imu::start_magnetic_north_calibration" ref="a34d5d16b124054ce5e9b0cedfce1672e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a34d5d16b124054ce5e9b0cedfce1672e">Imu::start_magnetic_north_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start calibration of magnetic field inclination. </p>
<p>Should not be used in flight Keep the platform perfectly stable during the calibration phase. It does not have to be perfectly leveled, but should not undergo parasitic accelerations.</p>
<p>WARNING: Incompatible with magnetometer bias calibration</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already started and no incompatible calibration ongoing </dd></dl>

</div>
</div>
<a class="anchor" id="a39a925978d0ec683c83d942d0d70822d"></a><!-- doxytag: member="Imu::start_magnetometer_bias_calibration" ref="a39a925978d0ec683c83d942d0d70822d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a39a925978d0ec683c83d942d0d70822d">Imu::start_magnetometer_bias_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start magnetometer bias calibration. </p>
<p>Should not be used in flight Rotate the platform in all possible orientation during calibration The goal is to capture the maximum and minimum values for each axis, (ie. have X, Y and Z axis of the UAV). Consecutively, each axis should be perfectly aligned, then perfectly opposed to the magnetic field. Note that the magnetic field is not horizontal !</p>
<p>WARNING: Incompatible with accelerometer and gyroscope bias calibration</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already started and no incompatible calibration ongoing </dd></dl>

</div>
</div>
<a class="anchor" id="a5455d91545d19a136b5cf92519daeec1"></a><!-- doxytag: member="Imu::stop_accelerometer_bias_calibration" ref="a5455d91545d19a136b5cf92519daeec1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a5455d91545d19a136b5cf92519daeec1">Imu::stop_accelerometer_bias_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop accelerometer bias calibration. </p>
<p>Should not be used in flight</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already stopped </dd></dl>

</div>
</div>
<a class="anchor" id="a66b1dfbebdce8334d1759c829e6e8d8a"></a><!-- doxytag: member="Imu::stop_gyroscope_bias_calibration" ref="a66b1dfbebdce8334d1759c829e6e8d8a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a66b1dfbebdce8334d1759c829e6e8d8a">Imu::stop_gyroscope_bias_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop gyroscope bias calibration. </p>
<p>Should not be used in flight</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already stopped </dd></dl>

</div>
</div>
<a class="anchor" id="add6b6798ab385e2bddc443a54ee7734c"></a><!-- doxytag: member="Imu::stop_magnetic_north_calibration" ref="add6b6798ab385e2bddc443a54ee7734c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#add6b6798ab385e2bddc443a54ee7734c">Imu::stop_magnetic_north_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop calibration of magnetic inclination. </p>
<p>Should not be used in flight</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already stopped </dd></dl>

</div>
</div>
<a class="anchor" id="a90376d4f0fb362e2f3bfaa90d5f78f7c"></a><!-- doxytag: member="Imu::stop_magnetometer_bias_calibration" ref="a90376d4f0fb362e2f3bfaa90d5f78f7c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#a90376d4f0fb362e2f3bfaa90d5f78f7c">Imu::stop_magnetometer_bias_calibration</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop magnetometer bias calibration. </p>
<p>Should not be used in flight This function updates the magnetometer bias with the</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success if not already stopped </dd></dl>

</div>
</div>
<a class="anchor" id="af02e49dcc3c53c8907f5abed61300b53"></a><!-- doxytag: member="Imu::update" ref="af02e49dcc3c53c8907f5abed61300b53" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classImu.html#af02e49dcc3c53c8907f5abed61300b53">Imu::update</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main update. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classImu_af02e49dcc3c53c8907f5abed61300b53_cgraph.png" border="0" usemap="#classImu_af02e49dcc3c53c8907f5abed61300b53_cgraph" alt=""/></div>
<map name="classImu_af02e49dcc3c53c8907f5abed61300b53_cgraph" id="classImu_af02e49dcc3c53c8907f5abed61300b53_cgraph">
<area shape="rect" id="node3" href="classAccelerometer.html#a502ee76801742384312f643c267bb048" title="Main update function &#160;Reads new values from sensor." alt="" coords="145,5,297,35"/><area shape="rect" id="node5" href="classGyroscope.html#aa1bc5409e1fc374c50d4998109caf961" title="Main update function &#160;Reads new values from sensor." alt="" coords="156,59,287,88"/><area shape="rect" id="node7" href="classMagnetometer.html#ae067075c2ad106740248985a69a066cb" title="Main update function &#160;Reads new values from sensor." alt="" coords="145,112,297,141"/><area shape="rect" id="node9" href="classAccelerometer.html#ac54c59d5a3e4c5537e6cd881fae184e6" title="Get X, Y and Z components of acceleration." alt="" coords="155,165,288,195"/><area shape="rect" id="node11" href="classGyroscope.html#afb31903ff6966d7732283a19e93083ac" title="Get X, Y and Z components of angular velocity." alt="" coords="163,219,280,248"/><area shape="rect" id="node13" href="classMagnetometer.html#a52be41f6e0c0d7c60b63c2f7c5982d40" title="Get X, Y and Z components of magnetic field." alt="" coords="152,272,291,301"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/lis-epfl/MAVRIC_Library/sensing/<a class="el" href="imu_8hpp_source.html">imu.hpp</a></li>
<li>/home/travis/build/lis-epfl/MAVRIC_Library/sensing/imu.cpp</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 9 2016 08:50:21 for MAV'RIC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
