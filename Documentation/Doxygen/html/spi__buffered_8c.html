<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MAV&#39;RIC: /home/julien/Desktop/tmp/maveric/Code/Library/hal/spi_buffered.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAV&#39;RIC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aa15536841142c7fd9884591ab4637c.html">Code</a></li><li class="navelem"><a class="el" href="dir_441424e0798b093b83594b97ee19973a.html">Library</a></li><li class="navelem"><a class="el" href="dir_b9860ec229d60a4e05a0bedc78cf89ab.html">hal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spi_buffered.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="spi__buffered_8h_source.html">spi_buffered.h</a>&quot;</code><br />
<code>#include &quot;spi_master.h&quot;</code><br />
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pdca_8h_source.html">pdca.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Library_2hal_2led_8h_source.html">led.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for spi_buffered.c:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c__incl.png" border="0" usemap="#_2home_2julien_2Desktop_2tmp_2maveric_2Code_2Library_2hal_2spi__buffered_8c" alt=""/></div>
<map name="_2home_2julien_2Desktop_2tmp_2maveric_2Code_2Library_2hal_2spi__buffered_8c" id="_2home_2julien_2Desktop_2tmp_2maveric_2Code_2Library_2hal_2spi__buffered_8c">
<area shape="rect" id="node2" href="spi__buffered_8h.html" title="spi_buffered.h" alt="" coords="328,109,432,136"/><area shape="rect" id="node12" href="gpio_8h.html" title="GPIO software driver interface for AVR UC3. " alt="" coords="117,109,174,136"/><area shape="rect" id="node14" href="pdca_8h.html" title="PDCA driver for AVR32 UC3. " alt="" coords="199,109,260,136"/><area shape="rect" id="node15" href="Library_2hal_2led_8h.html" title="AT32UC3C UC3C_EK board LEDs support package. " alt="" coords="28,109,79,136"/><area shape="rect" id="node4" href="preprocessor_8h.html" title="Preprocessor utils. " alt="" coords="215,184,323,211"/><area shape="rect" id="node9" href="user__board_8h.html" title="User board definition template. " alt="" coords="437,184,534,211"/><area shape="rect" id="node11" href="dma__channel__config_8h.html" title="dma_channel_config.h" alt="" coords="559,184,711,211"/><area shape="rect" id="node5" href="tpaste_8h.html" title="Preprocessor token pasting utils. " alt="" coords="89,259,159,285"/><area shape="rect" id="node6" href="stringz_8h.html" title="Preprocessor stringizing utils. " alt="" coords="183,259,255,285"/><area shape="rect" id="node7" href="mrepeat_8h.html" title="Preprocessor macro repeating utils. " alt="" coords="279,259,359,285"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5c3eda656384c3976ce643501a2bf1a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a5c3eda656384c3976ce643501a2bf1a4">__attribute__</a> ((__interrupt__))</td></tr>
<tr class="memdesc:a5c3eda656384c3976ce643501a2bf1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The PDCA interrupt handler.  <a href="#a5c3eda656384c3976ce643501a2bf1a4">More...</a><br /></td></tr>
<tr class="separator:a5c3eda656384c3976ce643501a2bf1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ba5d5b188c9d61b6dc487f0003ad9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ae4ba5d5b188c9d61b6dc487f0003ad9b">spi_buffered_init</a> (volatile avr32_spi_t *spi, int32_t spi_index)</td></tr>
<tr class="memdesc:ae4ba5d5b188c9d61b6dc487f0003ad9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize SPI interface: this interface uses internal buffers and interrupts. Bytes in the outgoing buffer are sent automatically via interrupt.  <a href="#ae4ba5d5b188c9d61b6dc487f0003ad9b">More...</a><br /></td></tr>
<tr class="separator:ae4ba5d5b188c9d61b6dc487f0003ad9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d34960308a5cacd66c71d1627bb66c"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a82d34960308a5cacd66c71d1627bb66c">spi_buffered_get_spi_in_buffer</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a82d34960308a5cacd66c71d1627bb66c"><td class="mdescLeft">&#160;</td><td class="mdescRight">To get the SPI ingoing buffer.  <a href="#a82d34960308a5cacd66c71d1627bb66c">More...</a><br /></td></tr>
<tr class="separator:a82d34960308a5cacd66c71d1627bb66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b12734c1fe0382a4fd45a65e87bb2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a47b12734c1fe0382a4fd45a65e87bb2c">spi_buffered_init_DMA</a> (int32_t spi_index, int32_t block_size)</td></tr>
<tr class="memdesc:a47b12734c1fe0382a4fd45a65e87bb2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">InitialiZe DMA-based SPI transfer mode.  <a href="#a47b12734c1fe0382a4fd45a65e87bb2c">More...</a><br /></td></tr>
<tr class="separator:a47b12734c1fe0382a4fd45a65e87bb2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41d317e32ec06b116d581e76d56653f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ab41d317e32ec06b116d581e76d56653f">spi_buffered_trigger_DMA</a> (int32_t spi_index, int32_t block_size)</td></tr>
<tr class="memdesc:ab41d317e32ec06b116d581e76d56653f"><td class="mdescLeft">&#160;</td><td class="mdescRight">specify a callback function, that gets called when a DMA transfer completes. start a DMA-based transfer of given size. This will reset the output and input buffers. At completion, the bytes read from SPI will be in the SPI read buffer, and the callback function will be called (if specified).  <a href="#ab41d317e32ec06b116d581e76d56653f">More...</a><br /></td></tr>
<tr class="separator:ab41d317e32ec06b116d581e76d56653f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c5f1b62dc06993f375992ab4354c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a19c5f1b62dc06993f375992ab4354c19">spi_buffered_set_callback</a> (int32_t spi_index, function_pointer_t *function_pointer)</td></tr>
<tr class="memdesc:a19c5f1b62dc06993f375992ab4354c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify a callback function, that gets called when the SPI buffer is empty.  <a href="#a19c5f1b62dc06993f375992ab4354c19">More...</a><br /></td></tr>
<tr class="separator:a19c5f1b62dc06993f375992ab4354c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29e1b0896e6acb292fe522c57c7e97f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ad29e1b0896e6acb292fe522c57c7e97f">spi_buffered_enable</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:ad29e1b0896e6acb292fe522c57c7e97f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables SPI communication.  <a href="#ad29e1b0896e6acb292fe522c57c7e97f">More...</a><br /></td></tr>
<tr class="separator:ad29e1b0896e6acb292fe522c57c7e97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf176f0b1fb324a03c0285c19e0023"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a0ddf176f0b1fb324a03c0285c19e0023">spi_buffered_disable</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a0ddf176f0b1fb324a03c0285c19e0023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables SPI communication.  <a href="#a0ddf176f0b1fb324a03c0285c19e0023">More...</a><br /></td></tr>
<tr class="separator:a0ddf176f0b1fb324a03c0285c19e0023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11cede1780bc034df2612bc3261c3f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ab11cede1780bc034df2612bc3261c3f7">spi_buffered_pause</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:ab11cede1780bc034df2612bc3261c3f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pauses the sending on SPI.  <a href="#ab11cede1780bc034df2612bc3261c3f7">More...</a><br /></td></tr>
<tr class="separator:ab11cede1780bc034df2612bc3261c3f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade06b045051dc7c8b4b120f18520386b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ade06b045051dc7c8b4b120f18520386b">spi_buffered_resume</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:ade06b045051dc7c8b4b120f18520386b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes the SPI automatic sending.  <a href="#ade06b045051dc7c8b4b120f18520386b">More...</a><br /></td></tr>
<tr class="separator:ade06b045051dc7c8b4b120f18520386b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f9a5b9b37bcf89eb56fe90578928ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#aa6f9a5b9b37bcf89eb56fe90578928ef">spi_buffered_start</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:aa6f9a5b9b37bcf89eb56fe90578928ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates pending transmissions by sending first byte, if in paused or non-automatic mode.  <a href="#aa6f9a5b9b37bcf89eb56fe90578928ef">More...</a><br /></td></tr>
<tr class="separator:aa6f9a5b9b37bcf89eb56fe90578928ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab259a334736120abf38f0bbb1c53257"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#aab259a334736120abf38f0bbb1c53257">spi_buffered_activate_receive</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:aab259a334736120abf38f0bbb1c53257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates reception of SPI.  <a href="#aab259a334736120abf38f0bbb1c53257">More...</a><br /></td></tr>
<tr class="separator:aab259a334736120abf38f0bbb1c53257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3031b5ec2f3aee9a1804e55058141b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a7b3031b5ec2f3aee9a1804e55058141b">spi_buffered_deactivate_receive</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a7b3031b5ec2f3aee9a1804e55058141b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates reception of SPI.  <a href="#a7b3031b5ec2f3aee9a1804e55058141b">More...</a><br /></td></tr>
<tr class="separator:a7b3031b5ec2f3aee9a1804e55058141b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260602b76a9463a050f745f11e9eceec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a260602b76a9463a050f745f11e9eceec">spi_buffered_clear_read_buffer</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a260602b76a9463a050f745f11e9eceec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear SPI buffer.  <a href="#a260602b76a9463a050f745f11e9eceec">More...</a><br /></td></tr>
<tr class="separator:a260602b76a9463a050f745f11e9eceec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7ba05cddfe8a2645727ea9d9113743"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a1a7ba05cddfe8a2645727ea9d9113743">spi_buffered_get_traffic</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a1a7ba05cddfe8a2645727ea9d9113743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the traffic of SPI line index.  <a href="#a1a7ba05cddfe8a2645727ea9d9113743">More...</a><br /></td></tr>
<tr class="separator:a1a7ba05cddfe8a2645727ea9d9113743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3aaea2ed28debda691c3034fb76994b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ac3aaea2ed28debda691c3034fb76994b">spi_buffered_read</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:ac3aaea2ed28debda691c3034fb76994b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one byte from the incoming SPI buffer, if the buffer is empty, waits for data.  <a href="#ac3aaea2ed28debda691c3034fb76994b">More...</a><br /></td></tr>
<tr class="separator:ac3aaea2ed28debda691c3034fb76994b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19d8982200870d6c11aede182c02d2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ad19d8982200870d6c11aede182c02d2d">spi_buffered_write</a> (int32_t spi_index, uint8_t value)</td></tr>
<tr class="memdesc:ad19d8982200870d6c11aede182c02d2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes one byte to the outgoing SPI buffer if buffer is full, this method blocks.  <a href="#ad19d8982200870d6c11aede182c02d2d">More...</a><br /></td></tr>
<tr class="separator:ad19d8982200870d6c11aede182c02d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad650facef5a4598a0fcab9c8f7ea773c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#ad650facef5a4598a0fcab9c8f7ea773c">spi_buffered_transmit</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:ad650facef5a4598a0fcab9c8f7ea773c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from buffer index and copy it to SPI unit.  <a href="#ad650facef5a4598a0fcab9c8f7ea773c">More...</a><br /></td></tr>
<tr class="separator:ad650facef5a4598a0fcab9c8f7ea773c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747edcda85870e694c7a977476d8edda"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a747edcda85870e694c7a977476d8edda">spi_buffered_is_transfered_finished</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a747edcda85870e694c7a977476d8edda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the transmission is finished.  <a href="#a747edcda85870e694c7a977476d8edda">More...</a><br /></td></tr>
<tr class="separator:a747edcda85870e694c7a977476d8edda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8900be6487dc2eaafffb74227ae8b1c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a8900be6487dc2eaafffb74227ae8b1c5">spi_buffered_flush_buffer</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a8900be6487dc2eaafffb74227ae8b1c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until whole buffer is written to SPI bus automatically resumes sending if SPI interface was paused.  <a href="#a8900be6487dc2eaafffb74227ae8b1c5">More...</a><br /></td></tr>
<tr class="separator:a8900be6487dc2eaafffb74227ae8b1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065f214a86b6a68575c12e02d9334db6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi__buffered_8c.html#a065f214a86b6a68575c12e02d9334db6">spi_buffered_bytes_available</a> (int32_t spi_index)</td></tr>
<tr class="memdesc:a065f214a86b6a68575c12e02d9334db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of bytes in the incoming buffer.  <a href="#a065f214a86b6a68575c12e02d9334db6">More...</a><br /></td></tr>
<tr class="separator:a065f214a86b6a68575c12e02d9334db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5233e7fdcaece7bc8f0abe3e4b3dcb2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5233e7fdcaece7bc8f0abe3e4b3dcb2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>spi_handler</b> (int32_t spi_index)</td></tr>
<tr class="separator:af5233e7fdcaece7bc8f0abe3e4b3dcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SPI functions for the ATMega / AVR microcontrollers This library provides buffered SPI send and receive </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5c3eda656384c3976ce643501a2bf1a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(__interrupt__)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The PDCA interrupt handler. </p>
<p>interrupt handler manages sending and receiving data </p>

</div>
</div>
<a class="anchor" id="aab259a334736120abf38f0bbb1c53257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_activate_receive </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activates reception of SPI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a065f214a86b6a68575c12e02d9334db6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spi_buffered_bytes_available </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of bytes in the incoming buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of bytes in the incoming buffer </dd></dl>

</div>
</div>
<a class="anchor" id="a260602b76a9463a050f745f11e9eceec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_clear_read_buffer </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear SPI buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b3031b5ec2f3aee9a1804e55058141b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_deactivate_receive </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates reception of SPI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ddf176f0b1fb324a03c0285c19e0023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_disable </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables SPI communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI to disable </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_a0ddf176f0b1fb324a03c0285c19e0023_cgraph.png" border="0" usemap="#spi__buffered_8c_a0ddf176f0b1fb324a03c0285c19e0023_cgraph" alt=""/></div>
<map name="spi__buffered_8c_a0ddf176f0b1fb324a03c0285c19e0023_cgraph" id="spi__buffered_8c_a0ddf176f0b1fb324a03c0285c19e0023_cgraph">
<area shape="rect" id="node2" href="spi_8c.html#a5cc4ac60e6ecf3cdc442265aaa0a63e0" title="Disables the SPI. " alt="" coords="195,5,281,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad29e1b0896e6acb292fe522c57c7e97f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_enable </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables SPI communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI to enable </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_cgraph.png" border="0" usemap="#spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_cgraph" alt=""/></div>
<map name="spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_cgraph" id="spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_cgraph">
<area shape="rect" id="node2" href="spi_8c.html#ac93e5990e8abc811f4ba2fb65e10e94d" title="Enables the SPI. " alt="" coords="192,5,276,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_icgraph.png" border="0" usemap="#spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_icgraph" alt=""/></div>
<map name="spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_icgraph" id="spi__buffered_8c_ad29e1b0896e6acb292fe522c57c7e97f_icgraph">
<area shape="rect" id="node2" href="spi__buffered_8h.html#ae4ba5d5b188c9d61b6dc487f0003ad9b" title="Initialize SPI interface: this interface uses internal buffers and interrupts. Bytes in the outgoing ..." alt="" coords="192,5,309,32"/><area shape="rect" id="node3" href="ads1274_8h.html#a0176eb0c9771c53fff490bae17e5b227" title="Initializes ADC (configures Pins, starts Clock, sets defaults) " alt="" coords="357,5,488,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8900be6487dc2eaafffb74227ae8b1c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_flush_buffer </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until whole buffer is written to SPI bus automatically resumes sending if SPI interface was paused. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_a8900be6487dc2eaafffb74227ae8b1c5_cgraph.png" border="0" usemap="#spi__buffered_8c_a8900be6487dc2eaafffb74227ae8b1c5_cgraph" alt=""/></div>
<map name="spi__buffered_8c_a8900be6487dc2eaafffb74227ae8b1c5_cgraph" id="spi__buffered_8c_a8900be6487dc2eaafffb74227ae8b1c5_cgraph">
<area shape="rect" id="node2" href="spi__buffered_8c.html#ade06b045051dc7c8b4b120f18520386b" title="Resumes the SPI automatic sending. " alt="" coords="181,13,324,39"/><area shape="rect" id="node3" href="spi__buffered_8c.html#aa6f9a5b9b37bcf89eb56fe90578928ef" title="Initiates pending transmissions by sending first byte, if in paused or non&#45;automatic mode..." alt="" coords="372,13,499,39"/><area shape="rect" id="node4" href="spi__buffered_8c.html#ad650facef5a4598a0fcab9c8f7ea773c" title="Read data from buffer index and copy it to SPI unit. " alt="" coords="547,13,693,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a82d34960308a5cacd66c71d1627bb66c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* spi_buffered_get_spi_in_buffer </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To get the SPI ingoing buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI buffer wanted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the incoming SPI buffer </dd></dl>

</div>
</div>
<a class="anchor" id="a1a7ba05cddfe8a2645727ea9d9113743"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spi_buffered_get_traffic </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the traffic of SPI line index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The traffic of SPI index </dd></dl>

</div>
</div>
<a class="anchor" id="ae4ba5d5b188c9d61b6dc487f0003ad9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_init </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_spi_t *&#160;</td>
          <td class="paramname"><em>spi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize SPI interface: this interface uses internal buffers and interrupts. Bytes in the outgoing buffer are sent automatically via interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The SPI chip address </td></tr>
    <tr><td class="paramname">spi_index</td><td>The SPI index </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_cgraph.png" border="0" usemap="#spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_cgraph" alt=""/></div>
<map name="spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_cgraph" id="spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_cgraph">
<area shape="rect" id="node2" href="spi__master_8c.html#adb8e173ada01040ae56a5f5868b50449" title="Setup a SPI device. " alt="" coords="171,5,341,32"/><area shape="rect" id="node4" href="gpio_8c.html#af9f1a0613d0095efbcd451aea19aad61" title="Enables a specific module mode for a pin. " alt="" coords="174,56,338,83"/><area shape="rect" id="node5" href="spi__buffered_8c.html#ad29e1b0896e6acb292fe522c57c7e97f" title="Enables SPI communication. " alt="" coords="187,107,325,133"/><area shape="rect" id="node3" href="spi_8c.html#ac4f834a88c24447093521628ed16a72b" title="Calculates the baudrate divider. " alt="" coords="389,5,480,32"/><area shape="rect" id="node6" href="spi_8c.html#ac93e5990e8abc811f4ba2fb65e10e94d" title="Enables the SPI. " alt="" coords="393,107,477,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_icgraph.png" border="0" usemap="#spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_icgraph" alt=""/></div>
<map name="spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_icgraph" id="spi__buffered_8c_ae4ba5d5b188c9d61b6dc487f0003ad9b_icgraph">
<area shape="rect" id="node2" href="ads1274_8h.html#a0176eb0c9771c53fff490bae17e5b227" title="Initializes ADC (configures Pins, starts Clock, sets defaults) " alt="" coords="171,5,301,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47b12734c1fe0382a4fd45a65e87bb2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_init_DMA </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>block_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>InitialiZe DMA-based SPI transfer mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The SPI index </td></tr>
    <tr><td class="paramname">block_size</td><td>The block size </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_cgraph.png" border="0" usemap="#spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_cgraph" alt=""/></div>
<map name="spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_cgraph" id="spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_cgraph">
<area shape="rect" id="node2" href="pdca_8c.html#a08b3c4c7240ee1915d54e6a3b33268b8" title="Set the channel configuration. " alt="" coords="208,33,335,59"/><area shape="rect" id="node3" href="pdca_8c.html#ab50a6b2763b5097fc0561dbf515658bb" title="Get PDCA channel handler. " alt="" coords="583,33,707,59"/><area shape="rect" id="node4" href="pdca_8c.html#a2b696afb911759981b06da3f1edd04c4" title="Disable PDCA transfer interrupt when completed (ie TCR and TCRR are both zero) " alt="" coords="383,25,535,67"/><area shape="rect" id="node5" href="pdca_8c.html#a078d53cc63f5037fd923efc0aae9f1fc" title="Disable PDCA transfer interrupt when TCRR reaches zero. " alt="" coords="383,91,535,132"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_icgraph.png" border="0" usemap="#spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_icgraph" alt=""/></div>
<map name="spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_icgraph" id="spi__buffered_8c_a47b12734c1fe0382a4fd45a65e87bb2c_icgraph">
<area shape="rect" id="node2" href="ads1274_8h.html#a0176eb0c9771c53fff490bae17e5b227" title="Initializes ADC (configures Pins, starts Clock, sets defaults) " alt="" coords="208,5,339,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a747edcda85870e694c7a977476d8edda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t spi_buffered_is_transfered_finished </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the transmission is finished. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the transmission is finished, 0 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ab11cede1780bc034df2612bc3261c3f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_pause </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pauses the sending on SPI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI to pause </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac3aaea2ed28debda691c3034fb76994b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spi_buffered_read </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one byte from the incoming SPI buffer, if the buffer is empty, waits for data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The byte read </dd></dl>

</div>
</div>
<a class="anchor" id="ade06b045051dc7c8b4b120f18520386b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_resume </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resumes the SPI automatic sending. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_cgraph.png" border="0" usemap="#spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_cgraph" alt=""/></div>
<map name="spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_cgraph" id="spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_cgraph">
<area shape="rect" id="node2" href="spi__buffered_8c.html#aa6f9a5b9b37bcf89eb56fe90578928ef" title="Initiates pending transmissions by sending first byte, if in paused or non&#45;automatic mode..." alt="" coords="196,5,323,32"/><area shape="rect" id="node3" href="spi__buffered_8c.html#ad650facef5a4598a0fcab9c8f7ea773c" title="Read data from buffer index and copy it to SPI unit. " alt="" coords="371,5,517,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_icgraph.png" border="0" usemap="#spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_icgraph" alt=""/></div>
<map name="spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_icgraph" id="spi__buffered_8c_ade06b045051dc7c8b4b120f18520386b_icgraph">
<area shape="rect" id="node2" href="spi__buffered_8h.html#a8900be6487dc2eaafffb74227ae8b1c5" title="Waits until whole buffer is written to SPI bus automatically resumes sending if SPI interface was pau..." alt="" coords="196,5,324,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19c5f1b62dc06993f375992ab4354c19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_set_callback </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function_pointer_t *&#160;</td>
          <td class="paramname"><em>function_pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify a callback function, that gets called when the SPI buffer is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
    <tr><td class="paramname">function_pointer</td><td>The pointer to the callback function </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_a19c5f1b62dc06993f375992ab4354c19_icgraph.png" border="0" usemap="#spi__buffered_8c_a19c5f1b62dc06993f375992ab4354c19_icgraph" alt=""/></div>
<map name="spi__buffered_8c_a19c5f1b62dc06993f375992ab4354c19_icgraph" id="spi__buffered_8c_a19c5f1b62dc06993f375992ab4354c19_icgraph">
<area shape="rect" id="node2" href="ads1274_8h.html#a0176eb0c9771c53fff490bae17e5b227" title="Initializes ADC (configures Pins, starts Clock, sets defaults) " alt="" coords="227,5,357,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa6f9a5b9b37bcf89eb56fe90578928ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_start </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiates pending transmissions by sending first byte, if in paused or non-automatic mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>
<p>!!!PORTB &amp;= ~_BV(SPI_CS); // pull chip select low to start transmission</p>
<p>!!!SPCR|=_BV(SPIE); </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_cgraph.png" border="0" usemap="#spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_cgraph" alt=""/></div>
<map name="spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_cgraph" id="spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_cgraph">
<area shape="rect" id="node2" href="spi__buffered_8c.html#ad650facef5a4598a0fcab9c8f7ea773c" title="Read data from buffer index and copy it to SPI unit. " alt="" coords="180,5,327,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_icgraph.png" border="0" usemap="#spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_icgraph" alt=""/></div>
<map name="spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_icgraph" id="spi__buffered_8c_aa6f9a5b9b37bcf89eb56fe90578928ef_icgraph">
<area shape="rect" id="node2" href="spi__buffered_8h.html#ade06b045051dc7c8b4b120f18520386b" title="Resumes the SPI automatic sending. " alt="" coords="180,13,323,39"/><area shape="rect" id="node4" href="spi__buffered_8h.html#ad19d8982200870d6c11aede182c02d2d" title="Writes one byte to the outgoing SPI buffer if buffer is full, this method blocks. ..." alt="" coords="187,63,315,90"/><area shape="rect" id="node3" href="spi__buffered_8h.html#a8900be6487dc2eaafffb74227ae8b1c5" title="Waits until whole buffer is written to SPI bus automatically resumes sending if SPI interface was pau..." alt="" coords="371,5,499,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad650facef5a4598a0fcab9c8f7ea773c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_transmit </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from buffer index and copy it to SPI unit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ad650facef5a4598a0fcab9c8f7ea773c_icgraph.png" border="0" usemap="#spi__buffered_8c_ad650facef5a4598a0fcab9c8f7ea773c_icgraph" alt=""/></div>
<map name="spi__buffered_8c_ad650facef5a4598a0fcab9c8f7ea773c_icgraph" id="spi__buffered_8c_ad650facef5a4598a0fcab9c8f7ea773c_icgraph">
<area shape="rect" id="node2" href="spi__buffered_8h.html#aa6f9a5b9b37bcf89eb56fe90578928ef" title="Initiates pending transmissions by sending first byte, if in paused or non&#45;automatic mode..." alt="" coords="200,38,327,65"/><area shape="rect" id="node3" href="spi__buffered_8h.html#ade06b045051dc7c8b4b120f18520386b" title="Resumes the SPI automatic sending. " alt="" coords="375,13,517,39"/><area shape="rect" id="node5" href="spi__buffered_8h.html#ad19d8982200870d6c11aede182c02d2d" title="Writes one byte to the outgoing SPI buffer if buffer is full, this method blocks. ..." alt="" coords="382,63,510,90"/><area shape="rect" id="node4" href="spi__buffered_8h.html#a8900be6487dc2eaafffb74227ae8b1c5" title="Waits until whole buffer is written to SPI bus automatically resumes sending if SPI interface was pau..." alt="" coords="565,5,693,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab41d317e32ec06b116d581e76d56653f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_trigger_DMA </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>block_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>specify a callback function, that gets called when a DMA transfer completes. start a DMA-based transfer of given size. This will reset the output and input buffers. At completion, the bytes read from SPI will be in the SPI read buffer, and the callback function will be called (if specified). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
    <tr><td class="paramname">block_size</td><td>The size of the block </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ab41d317e32ec06b116d581e76d56653f_cgraph.png" border="0" usemap="#spi__buffered_8c_ab41d317e32ec06b116d581e76d56653f_cgraph" alt=""/></div>
<map name="spi__buffered_8c_ab41d317e32ec06b116d581e76d56653f_cgraph" id="spi__buffered_8c_ab41d317e32ec06b116d581e76d56653f_cgraph">
<area shape="rect" id="node2" href="pdca_8c.html#a1b44de71879c40ba72dd8ca858d6ad82" title="Set PDCA channel load values. " alt="" coords="235,5,368,32"/><area shape="rect" id="node4" href="pdca_8c.html#ace9a1468f53a4c5e400fc6dd15383c1c" title="Enable PDCA transfer interrupt when completed (ie TCR and TCRR are both zero) " alt="" coords="227,57,376,98"/><area shape="rect" id="node5" href="pdca_8c.html#a79864b51af1b9b61ad32427ab200c489" title="Enable the PDCA for the given channel. " alt="" coords="254,123,349,149"/><area shape="rect" id="node3" href="pdca_8c.html#ab50a6b2763b5097fc0561dbf515658bb" title="Get PDCA channel handler. " alt="" coords="424,64,548,91"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad19d8982200870d6c11aede182c02d2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_buffered_write </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>spi_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes one byte to the outgoing SPI buffer if buffer is full, this method blocks. </p>
<dl class="section warning"><dt>Warning</dt><dd>if sending is paused and buffer runs full, sending is automatically resumed!!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi_index</td><td>The index of the SPI </td></tr>
    <tr><td class="paramname">value</td><td>The byte to be written on the SPI </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="spi__buffered_8c_ad19d8982200870d6c11aede182c02d2d_cgraph.png" border="0" usemap="#spi__buffered_8c_ad19d8982200870d6c11aede182c02d2d_cgraph" alt=""/></div>
<map name="spi__buffered_8c_ad19d8982200870d6c11aede182c02d2d_cgraph" id="spi__buffered_8c_ad19d8982200870d6c11aede182c02d2d_cgraph">
<area shape="rect" id="node2" href="spi__buffered_8c.html#aa6f9a5b9b37bcf89eb56fe90578928ef" title="Initiates pending transmissions by sending first byte, if in paused or non&#45;automatic mode..." alt="" coords="181,5,308,32"/><area shape="rect" id="node3" href="spi__buffered_8c.html#ad650facef5a4598a0fcab9c8f7ea773c" title="Read data from buffer index and copy it to SPI unit. " alt="" coords="356,5,503,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 18 2014 14:18:45 for MAV&#39;RIC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
