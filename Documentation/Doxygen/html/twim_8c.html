<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MAV&#39;RIC: /home/julien/Desktop/tmp/maveric/Code/Maveric_myCopter/src/asf/avr32/drivers/twim/twim.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAV&#39;RIC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aa15536841142c7fd9884591ab4637c.html">Code</a></li><li class="navelem"><a class="el" href="dir_e7508e30365965c9dcbce91a45b45d1d.html">Maveric_myCopter</a></li><li class="navelem"><a class="el" href="dir_1e7c005b64bc1bab0cc223285642e49e.html">src</a></li><li class="navelem"><a class="el" href="dir_3fde7950560bc9c25d0c9126d08f6f23.html">asf</a></li><li class="navelem"><a class="el" href="dir_282c6a066e740cacc0849dedafd651a0.html">avr32</a></li><li class="navelem"><a class="el" href="dir_343d0262a8b14353a086ac8fa2a8c319.html">drivers</a></li><li class="navelem"><a class="el" href="dir_66706f92c4dfb653e1e81994dd45c0c0.html">twim</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">twim.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>TWIM driver for AVR32 UC3.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="twim_8h_source.html">twim.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for twim.c:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c__incl.png" border="0" usemap="#_2home_2julien_2Desktop_2tmp_2maveric_2Code_2Maveric__myCopter_2src_2asf_2avr32_2drivers_2twim_2twim_8c" alt=""/></div>
<map name="_2home_2julien_2Desktop_2tmp_2maveric_2Code_2Maveric__myCopter_2src_2asf_2avr32_2drivers_2twim_2twim_8c" id="_2home_2julien_2Desktop_2tmp_2maveric_2Code_2Maveric__myCopter_2src_2asf_2avr32_2drivers_2twim_2twim_8c">
<area shape="rect" id="node2" href="twim_8h.html" title="TWIM driver for AVR32 UC3. " alt="" coords="181,124,242,151"/><area shape="rect" id="node6" href="status__codes_8h.html" title="Status code definitions. " alt="" coords="249,199,360,225"/><area shape="rect" id="node7" href="conf__twim_8h.html" title="TWIM Configuration File for AVR32 UC3. " alt="" coords="385,199,478,225"/><area shape="rect" id="node8" href="board_8h.html" title="Standard board header file. " alt="" coords="372,273,437,300"/><area shape="rect" id="node9" href="conf__board_8h.html" title="User board configuration template. " alt="" coords="356,348,453,375"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab1dbf71184517dce176870b6a2013da2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1dbf71184517dce176870b6a2013da2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ISR</b> (twim_master_interrupt_handler, CONF_TWIM_IRQ_GROUP, CONF_TWIM_IRQ_LEVEL)</td></tr>
<tr class="separator:ab1dbf71184517dce176870b6a2013da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0919a57bb74f4106db851e6abfd30833"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0919a57bb74f4106db851e6abfd30833"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ISR</b> (twim_master_interrupt_handler2, AVR32_TWIM1_GROUP, CONF_TWIM_IRQ_LEVEL)</td></tr>
<tr class="separator:a0919a57bb74f4106db851e6abfd30833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad866d124a926d7c51f91e50448ca2c02"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#ad866d124a926d7c51f91e50448ca2c02">twim_set_speed</a> (volatile avr32_twim_t *twim, uint32_t speed, uint32_t pba_hz)</td></tr>
<tr class="memdesc:ad866d124a926d7c51f91e50448ca2c02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the twim bus speed in cojunction with the clock frequency.  <a href="#ad866d124a926d7c51f91e50448ca2c02">More...</a><br /></td></tr>
<tr class="separator:ad866d124a926d7c51f91e50448ca2c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f6873316c684d6d0b0ed2e9b584352"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#ae9f6873316c684d6d0b0ed2e9b584352">twim_master_init</a> (volatile avr32_twim_t *twim, const <a class="el" href="structtwim__options__t.html">twim_options_t</a> *opt)</td></tr>
<tr class="memdesc:ae9f6873316c684d6d0b0ed2e9b584352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the twi master module.  <a href="#ae9f6873316c684d6d0b0ed2e9b584352">More...</a><br /></td></tr>
<tr class="separator:ae9f6873316c684d6d0b0ed2e9b584352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2aa557dd4843af848081c10049cf29f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f">twim_disable_interrupt</a> (volatile avr32_twim_t *twim)</td></tr>
<tr class="memdesc:ac2aa557dd4843af848081c10049cf29f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the TWI interrupts and clear its status register.  <a href="#ac2aa557dd4843af848081c10049cf29f">More...</a><br /></td></tr>
<tr class="separator:ac2aa557dd4843af848081c10049cf29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d1a4b6781713c05f04fdee5b26524b"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#aa9d1a4b6781713c05f04fdee5b26524b">twim_probe</a> (volatile avr32_twim_t *twim, uint32_t chip_addr)</td></tr>
<tr class="memdesc:aa9d1a4b6781713c05f04fdee5b26524b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a chip answers for a given twi address.  <a href="#aa9d1a4b6781713c05f04fdee5b26524b">More...</a><br /></td></tr>
<tr class="separator:aa9d1a4b6781713c05f04fdee5b26524b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23303b7d588971e3eb9d7d00b6acfbee"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#a23303b7d588971e3eb9d7d00b6acfbee">twim_read_packet</a> (volatile avr32_twim_t *twim, const <a class="el" href="structtwim__package__t.html">twim_package_t</a> *package)</td></tr>
<tr class="memdesc:a23303b7d588971e3eb9d7d00b6acfbee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read multiple bytes from a TWI compatible slave device.  <a href="#a23303b7d588971e3eb9d7d00b6acfbee">More...</a><br /></td></tr>
<tr class="separator:a23303b7d588971e3eb9d7d00b6acfbee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e795e5daf90f7d1296c639944bd572"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#a21e795e5daf90f7d1296c639944bd572">twim_read</a> (volatile avr32_twim_t *twim, uint8_t *buffer, uint32_t nbytes, uint32_t saddr, bool tenbit)</td></tr>
<tr class="memdesc:a21e795e5daf90f7d1296c639944bd572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read multiple bytes from a TWI compatible slave device.  <a href="#a21e795e5daf90f7d1296c639944bd572">More...</a><br /></td></tr>
<tr class="separator:a21e795e5daf90f7d1296c639944bd572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2af872968780a2d1c867ea557626c7"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#a5c2af872968780a2d1c867ea557626c7">twim_write_packet</a> (volatile avr32_twim_t *twim, const <a class="el" href="structtwim__package__t.html">twim_package_t</a> *package)</td></tr>
<tr class="memdesc:a5c2af872968780a2d1c867ea557626c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write multiple bytes to a TWI compatible slave device.  <a href="#a5c2af872968780a2d1c867ea557626c7">More...</a><br /></td></tr>
<tr class="separator:a5c2af872968780a2d1c867ea557626c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a8d6459c3b882882a47ae614c1764f"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#a90a8d6459c3b882882a47ae614c1764f">twim_write</a> (volatile avr32_twim_t *twim, uint8_t const *buffer, uint32_t nbytes, uint32_t saddr, bool tenbit)</td></tr>
<tr class="memdesc:a90a8d6459c3b882882a47ae614c1764f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write multiple bytes to a TWI compatible slave device.  <a href="#a90a8d6459c3b882882a47ae614c1764f">More...</a><br /></td></tr>
<tr class="separator:a90a8d6459c3b882882a47ae614c1764f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee87d70b0afc98aea5148ef07f7b0763"><td class="memItemLeft" align="right" valign="top">status_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#aee87d70b0afc98aea5148ef07f7b0763">twim_chained_transfer</a> (volatile avr32_twim_t *twim, volatile <a class="el" href="structtwim__transfer__t.html">twim_transfer_t</a> *first, volatile <a class="el" href="structtwim__transfer__t.html">twim_transfer_t</a> *second, bool tenbit)</td></tr>
<tr class="memdesc:aee87d70b0afc98aea5148ef07f7b0763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform Chained transfers to a TWI compatible slave device.  <a href="#aee87d70b0afc98aea5148ef07f7b0763">More...</a><br /></td></tr>
<tr class="separator:aee87d70b0afc98aea5148ef07f7b0763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62690e0414009d7ce7ab472a27c7726d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62690e0414009d7ce7ab472a27c7726d"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d">twim_status</a> (void)</td></tr>
<tr class="memdesc:a62690e0414009d7ce7ab472a27c7726d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about the current status of the TWI Bus. <br /></td></tr>
<tr class="separator:a62690e0414009d7ce7ab472a27c7726d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TWIM driver for AVR32 UC3. </p>
<p>This file defines a useful set of functions for TWIM on AVR32 devices.</p>
<ul>
<li>Compiler: IAR EWAVR32 and GNU GCC for AVR32</li>
<li>Supported devices: All AVR32 devices with a TWIM module can be used.</li>
<li>AppNote:</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br />
 Support and FAQ: <a href="http://support.atmel.no/">http://support.atmel.no/</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aee87d70b0afc98aea5148ef07f7b0763"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_chained_transfer </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile <a class="el" href="structtwim__transfer__t.html">twim_transfer_t</a> *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile <a class="el" href="structtwim__transfer__t.html">twim_transfer_t</a> *&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tenbit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform Chained transfers to a TWI compatible slave device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM) </td></tr>
    <tr><td class="paramname">*first</td><td>Information regarding first transfer </td></tr>
    <tr><td class="paramname">*second</td><td>Information regarding second transfer (see <a class="el" href="structtwim__transfer__t.html">twim_transfer_t</a>) </td></tr>
    <tr><td class="paramname">tenbit</td><td>To enable tenbit addressing </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>Chain transfer successful </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>NACK received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_aee87d70b0afc98aea5148ef07f7b0763_cgraph.png" border="0" usemap="#twim_8c_aee87d70b0afc98aea5148ef07f7b0763_cgraph" alt=""/></div>
<map name="twim_8c_aee87d70b0afc98aea5148ef07f7b0763_cgraph" id="twim_8c_aee87d70b0afc98aea5148ef07f7b0763_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="207,5,359,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac2aa557dd4843af848081c10049cf29f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void twim_disable_interrupt </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the TWI interrupts and clear its status register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWI). </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_ac2aa557dd4843af848081c10049cf29f_icgraph.png" border="0" usemap="#twim_8c_ac2aa557dd4843af848081c10049cf29f_icgraph" alt=""/></div>
<map name="twim_8c_ac2aa557dd4843af848081c10049cf29f_icgraph" id="twim_8c_ac2aa557dd4843af848081c10049cf29f_icgraph">
<area shape="rect" id="node2" href="twim_8h.html#a23303b7d588971e3eb9d7d00b6acfbee" title="Read multiple bytes from a TWI compatible slave device. " alt="" coords="218,56,346,83"/><area shape="rect" id="node3" href="twim_8h.html#a21e795e5daf90f7d1296c639944bd572" title="Read multiple bytes from a TWI compatible slave device. " alt="" coords="241,107,323,133"/><area shape="rect" id="node12" href="twim_8h.html#a5c2af872968780a2d1c867ea557626c7" title="Write multiple bytes to a TWI compatible slave device. " alt="" coords="217,208,347,235"/><area shape="rect" id="node13" href="twim_8h.html#aeb62b764d23b3a3337199254e19f63ce" title="Write multiple bytes to a TWI compatible slave device. " alt="" coords="239,157,325,184"/><area shape="rect" id="node21" href="twim_8h.html#aee87d70b0afc98aea5148ef07f7b0763" title="Perform Chained transfers to a TWI compatible slave device. " alt="" coords="205,259,359,285"/><area shape="rect" id="node4" href="hmc5883l_8h.html#ad01484f83db3766eb173a800a56a9bfa" title="Returns the magnetometer&#39;s data in slow mode. " alt="" coords="438,56,562,83"/><area shape="rect" id="node9" href="i2cxl__sonar_8c.html#afa2608fdf1c5616a1b6383e518a48648" title="Get the last measurement. " alt="" coords="421,5,579,32"/><area shape="rect" id="node11" href="itg3200_8h.html#a40728a467ced83bb690ceddd993d0b9b" title="Return the gyroscope&#39;s data in slow mode. " alt="" coords="423,107,577,133"/><area shape="rect" id="node5" href="tasks_8h.html#afc72040c3820b1b8f3336c205ebcba14" title="Updates the IMU. " alt="" coords="641,56,795,83"/><area shape="rect" id="node6" href="imu_8h.html#ad26e4a8057f844098be0f8a47985b379" title="To calibrate the gyros at startup (not used know) " alt="" coords="851,31,989,57"/><area shape="rect" id="node7" href="tasks_8h.html#a4067c810c5e22c2e7c019c48c865d525" title="Run the main stabilisation loop. " alt="" coords="843,81,997,108"/><area shape="rect" id="node8" href="tasks_8h.html#ac3bbbc0615ef446b047e4edc9b461e46" title="Initialises all the tasks. " alt="" coords="1045,81,1181,108"/><area shape="rect" id="node10" href="i2cxl__sonar_8h.html#a107fc5dc685d81ba8e6d80f4c58c437f" title="Reads last value from sensor and start new recording. " alt="" coords="651,132,785,159"/><area shape="rect" id="node14" href="hmc5883l_8h.html#a358a6d5c63bc570c625b882e17ce60ce" title="Initializes the magnetometer sensor in slow mode. " alt="" coords="650,259,786,285"/><area shape="rect" id="node15" href="i2cxl__sonar_8c.html#aa6d25cf1d4be349e5fdeea49331962db" title="Send range Command for the i2cxl_sonar. " alt="" coords="407,157,593,184"/><area shape="rect" id="node16" href="itg3200_8h.html#a9e5303a8b4555d9a1537c586f86aeedf" title="Initialize the gyroscope sensor in slow mode. " alt="" coords="859,259,981,285"/><area shape="rect" id="node17" href="twim_8h.html#aa9d1a4b6781713c05f04fdee5b26524b" title="Test if a chip answers for a given twi address. " alt="" coords="455,309,545,336"/><area shape="rect" id="node18" href="lsm330dlc_8h.html#aac449e37e20cd1bc6cab8034bf9f21e1" title="Initialize the LSM330 accelerometer+gyroscope sensor. " alt="" coords="665,309,771,336"/><area shape="rect" id="node19" href="twim_8h.html#ae9f6873316c684d6d0b0ed2e9b584352" title="Initialize the twi master module. " alt="" coords="657,360,779,387"/><area shape="rect" id="node20" href="i2c__driver__int_8c.html#ab89cf2aa9741bf7d6ef45bd531cd1324" title="Initialize the i2c driver. " alt="" coords="869,360,971,387"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9f6873316c684d6d0b0ed2e9b584352"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_master_init </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtwim__options__t.html">twim_options_t</a> *&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the twi master module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM) </td></tr>
    <tr><td class="paramname">*opt</td><td>Options for initializing the twim module (see <a class="el" href="structtwim__options__t.html">twim_options_t</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>Transaction is successful </td></tr>
    <tr><td class="paramname">ERR_INVALID_ARG</td><td>Invalid arg resulting in wrong CWGR Exponential </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>NACK is received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_cgraph.png" border="0" usemap="#twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_cgraph" alt=""/></div>
<map name="twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_cgraph" id="twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#ad866d124a926d7c51f91e50448ca2c02" title="Set the twim bus speed in cojunction with the clock frequency. " alt="" coords="175,5,292,32"/><area shape="rect" id="node3" href="twim_8c.html#aa9d1a4b6781713c05f04fdee5b26524b" title="Test if a chip answers for a given twi address. " alt="" coords="189,56,278,83"/><area shape="rect" id="node4" href="twim_8c.html#a90a8d6459c3b882882a47ae614c1764f" title="Write multiple bytes to a TWI compatible slave device. " alt="" coords="340,56,425,83"/><area shape="rect" id="node5" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="473,31,625,57"/><area shape="rect" id="node6" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d" title="Information about the current status of the TWI Bus. " alt="" coords="503,81,596,108"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_icgraph.png" border="0" usemap="#twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_icgraph" alt=""/></div>
<map name="twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_icgraph" id="twim_8c_ae9f6873316c684d6d0b0ed2e9b584352_icgraph">
<area shape="rect" id="node2" href="i2c__driver__int_8c.html#ab89cf2aa9741bf7d6ef45bd531cd1324" title="Initialize the i2c driver. " alt="" coords="185,5,287,32"/><area shape="rect" id="node3" href="itg3200_8h.html#a9e5303a8b4555d9a1537c586f86aeedf" title="Initialize the gyroscope sensor in slow mode. " alt="" coords="175,56,297,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa9d1a4b6781713c05f04fdee5b26524b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_probe </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>chip_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a chip answers for a given twi address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM) </td></tr>
    <tr><td class="paramname">chip_addr</td><td>Address of the chip which is searched for </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>Slave Found </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>ANAK received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_cgraph.png" border="0" usemap="#twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_cgraph" alt=""/></div>
<map name="twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_cgraph" id="twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#a90a8d6459c3b882882a47ae614c1764f" title="Write multiple bytes to a TWI compatible slave device. " alt="" coords="143,31,228,57"/><area shape="rect" id="node3" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="276,5,428,32"/><area shape="rect" id="node4" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d" title="Information about the current status of the TWI Bus. " alt="" coords="305,56,399,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_icgraph.png" border="0" usemap="#twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_icgraph" alt=""/></div>
<map name="twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_icgraph" id="twim_8c_aa9d1a4b6781713c05f04fdee5b26524b_icgraph">
<area shape="rect" id="node2" href="hmc5883l_8h.html#a358a6d5c63bc570c625b882e17ce60ce" title="Initializes the magnetometer sensor in slow mode. " alt="" coords="143,5,279,32"/><area shape="rect" id="node3" href="lsm330dlc_8h.html#aac449e37e20cd1bc6cab8034bf9f21e1" title="Initialize the LSM330 accelerometer+gyroscope sensor. " alt="" coords="158,56,263,83"/><area shape="rect" id="node4" href="twim_8h.html#ae9f6873316c684d6d0b0ed2e9b584352" title="Initialize the twi master module. " alt="" coords="150,107,271,133"/><area shape="rect" id="node5" href="i2c__driver__int_8c.html#ab89cf2aa9741bf7d6ef45bd531cd1324" title="Initialize the i2c driver. " alt="" coords="337,81,439,108"/><area shape="rect" id="node6" href="itg3200_8h.html#a9e5303a8b4555d9a1537c586f86aeedf" title="Initialize the gyroscope sensor in slow mode. " alt="" coords="327,132,449,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21e795e5daf90f7d1296c639944bd572"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_read </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>saddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tenbit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read multiple bytes from a TWI compatible slave device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM) </td></tr>
    <tr><td class="paramname">*buffer</td><td>Received data </td></tr>
    <tr><td class="paramname">nbytes</td><td>Number of bytes to be transmitted </td></tr>
    <tr><td class="paramname">saddr</td><td>Slave address </td></tr>
    <tr><td class="paramname">tenbit</td><td>Ten bit addressing </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>If all bytes were read successfully </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>NACK received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_a21e795e5daf90f7d1296c639944bd572_cgraph.png" border="0" usemap="#twim_8c_a21e795e5daf90f7d1296c639944bd572_cgraph" alt=""/></div>
<map name="twim_8c_a21e795e5daf90f7d1296c639944bd572_cgraph" id="twim_8c_a21e795e5daf90f7d1296c639944bd572_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="136,5,288,32"/><area shape="rect" id="node3" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d" title="Information about the current status of the TWI Bus. " alt="" coords="165,56,259,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_a21e795e5daf90f7d1296c639944bd572_icgraph.png" border="0" usemap="#twim_8c_a21e795e5daf90f7d1296c639944bd572_icgraph" alt=""/></div>
<map name="twim_8c_a21e795e5daf90f7d1296c639944bd572_icgraph" id="twim_8c_a21e795e5daf90f7d1296c639944bd572_icgraph">
<area shape="rect" id="node2" href="hmc5883l_8h.html#ad01484f83db3766eb173a800a56a9bfa" title="Returns the magnetometer&#39;s data in slow mode. " alt="" coords="153,31,277,57"/><area shape="rect" id="node7" href="i2cxl__sonar_8c.html#afa2608fdf1c5616a1b6383e518a48648" title="Get the last measurement. " alt="" coords="136,81,295,108"/><area shape="rect" id="node9" href="itg3200_8h.html#a40728a467ced83bb690ceddd993d0b9b" title="Return the gyroscope&#39;s data in slow mode. " alt="" coords="138,132,293,159"/><area shape="rect" id="node3" href="tasks_8h.html#afc72040c3820b1b8f3336c205ebcba14" title="Updates the IMU. " alt="" coords="343,31,496,57"/><area shape="rect" id="node4" href="imu_8h.html#ad26e4a8057f844098be0f8a47985b379" title="To calibrate the gyros at startup (not used know) " alt="" coords="552,5,691,32"/><area shape="rect" id="node5" href="tasks_8h.html#a4067c810c5e22c2e7c019c48c865d525" title="Run the main stabilisation loop. " alt="" coords="544,56,699,83"/><area shape="rect" id="node6" href="tasks_8h.html#ac3bbbc0615ef446b047e4edc9b461e46" title="Initialises all the tasks. " alt="" coords="747,56,883,83"/><area shape="rect" id="node8" href="i2cxl__sonar_8h.html#a107fc5dc685d81ba8e6d80f4c58c437f" title="Reads last value from sensor and start new recording. " alt="" coords="352,81,487,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23303b7d588971e3eb9d7d00b6acfbee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_read_packet </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtwim__package__t.html">twim_package_t</a> *&#160;</td>
          <td class="paramname"><em>package</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read multiple bytes from a TWI compatible slave device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM) </td></tr>
    <tr><td class="paramname">package</td><td>Package information and data (see <a class="el" href="structtwim__package__t.html">twim_package_t</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>If all bytes were read successfully </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>NACK received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_a23303b7d588971e3eb9d7d00b6acfbee_cgraph.png" border="0" usemap="#twim_8c_a23303b7d588971e3eb9d7d00b6acfbee_cgraph" alt=""/></div>
<map name="twim_8c_a23303b7d588971e3eb9d7d00b6acfbee_cgraph" id="twim_8c_a23303b7d588971e3eb9d7d00b6acfbee_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="181,5,333,32"/><area shape="rect" id="node3" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d" title="Information about the current status of the TWI Bus. " alt="" coords="211,56,304,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad866d124a926d7c51f91e50448ca2c02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_set_speed </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pba_hz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the twim bus speed in cojunction with the clock frequency. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM). </td></tr>
    <tr><td class="paramname">speed</td><td>The desired twim bus speed </td></tr>
    <tr><td class="paramname">pba_hz</td><td>The current running PBA clock frequency </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>Transaction is successful </td></tr>
    <tr><td class="paramname">ERR_INVALID_ARG</td><td>Invalid arg resulting in wrong CWGR Exponential </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_ad866d124a926d7c51f91e50448ca2c02_icgraph.png" border="0" usemap="#twim_8c_ad866d124a926d7c51f91e50448ca2c02_icgraph" alt=""/></div>
<map name="twim_8c_ad866d124a926d7c51f91e50448ca2c02_icgraph" id="twim_8c_ad866d124a926d7c51f91e50448ca2c02_icgraph">
<area shape="rect" id="node2" href="i2c__driver__int_8h.html#ab89cf2aa9741bf7d6ef45bd531cd1324" title="Initialize the I2C communication. " alt="" coords="180,5,283,32"/><area shape="rect" id="node3" href="i2c__driver__int_8c.html#a935a956465f1254f80e58c6dacde33ed" title="Trigger a request on the i2c driver. " alt="" coords="171,57,292,98"/><area shape="rect" id="node4" href="twim_8h.html#ae9f6873316c684d6d0b0ed2e9b584352" title="Initialize the twi master module. " alt="" coords="171,123,292,149"/><area shape="rect" id="node5" href="i2c__driver__int_8c.html#ab89cf2aa9741bf7d6ef45bd531cd1324" title="Initialize the i2c driver. " alt="" coords="350,97,453,124"/><area shape="rect" id="node6" href="itg3200_8h.html#a9e5303a8b4555d9a1537c586f86aeedf" title="Initialize the gyroscope sensor in slow mode. " alt="" coords="340,148,463,175"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a90a8d6459c3b882882a47ae614c1764f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_write </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>saddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tenbit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write multiple bytes to a TWI compatible slave device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM). </td></tr>
    <tr><td class="paramname">*buffer</td><td>Data to be transmitted </td></tr>
    <tr><td class="paramname">nbytes</td><td>Number of bytes to be transmitted </td></tr>
    <tr><td class="paramname">saddr</td><td>Slave address </td></tr>
    <tr><td class="paramname">tenbit</td><td>Ten bit addressing </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>If all bytes were send successfully </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>NACK received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_a90a8d6459c3b882882a47ae614c1764f_cgraph.png" border="0" usemap="#twim_8c_a90a8d6459c3b882882a47ae614c1764f_cgraph" alt=""/></div>
<map name="twim_8c_a90a8d6459c3b882882a47ae614c1764f_cgraph" id="twim_8c_a90a8d6459c3b882882a47ae614c1764f_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="139,5,291,32"/><area shape="rect" id="node3" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d" title="Information about the current status of the TWI Bus. " alt="" coords="168,56,261,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_a90a8d6459c3b882882a47ae614c1764f_icgraph.png" border="0" usemap="#twim_8c_a90a8d6459c3b882882a47ae614c1764f_icgraph" alt=""/></div>
<map name="twim_8c_a90a8d6459c3b882882a47ae614c1764f_icgraph" id="twim_8c_a90a8d6459c3b882882a47ae614c1764f_icgraph">
<area shape="rect" id="node2" href="hmc5883l_8h.html#a358a6d5c63bc570c625b882e17ce60ce" title="Initializes the magnetometer sensor in slow mode. " alt="" coords="382,183,518,209"/><area shape="rect" id="node3" href="hmc5883l_8h.html#ad01484f83db3766eb173a800a56a9bfa" title="Returns the magnetometer&#39;s data in slow mode. " alt="" coords="170,31,294,57"/><area shape="rect" id="node8" href="i2cxl__sonar_8c.html#aa6d25cf1d4be349e5fdeea49331962db" title="Send range Command for the i2cxl_sonar. " alt="" coords="139,81,325,108"/><area shape="rect" id="node10" href="itg3200_8h.html#a9e5303a8b4555d9a1537c586f86aeedf" title="Initialize the gyroscope sensor in slow mode. " alt="" coords="591,157,713,184"/><area shape="rect" id="node11" href="itg3200_8h.html#a40728a467ced83bb690ceddd993d0b9b" title="Return the gyroscope&#39;s data in slow mode. " alt="" coords="155,233,309,260"/><area shape="rect" id="node12" href="twim_8h.html#aa9d1a4b6781713c05f04fdee5b26524b" title="Test if a chip answers for a given twi address. " alt="" coords="187,284,277,311"/><area shape="rect" id="node4" href="tasks_8h.html#afc72040c3820b1b8f3336c205ebcba14" title="Updates the IMU. " alt="" coords="373,31,527,57"/><area shape="rect" id="node5" href="imu_8h.html#ad26e4a8057f844098be0f8a47985b379" title="To calibrate the gyros at startup (not used know) " alt="" coords="583,5,721,32"/><area shape="rect" id="node6" href="tasks_8h.html#a4067c810c5e22c2e7c019c48c865d525" title="Run the main stabilisation loop. " alt="" coords="575,56,729,83"/><area shape="rect" id="node7" href="tasks_8h.html#ac3bbbc0615ef446b047e4edc9b461e46" title="Initialises all the tasks. " alt="" coords="777,56,913,83"/><area shape="rect" id="node9" href="i2cxl__sonar_8h.html#a107fc5dc685d81ba8e6d80f4c58c437f" title="Reads last value from sensor and start new recording. " alt="" coords="383,81,517,108"/><area shape="rect" id="node13" href="lsm330dlc_8h.html#aac449e37e20cd1bc6cab8034bf9f21e1" title="Initialize the LSM330 accelerometer+gyroscope sensor. " alt="" coords="397,233,503,260"/><area shape="rect" id="node14" href="twim_8h.html#ae9f6873316c684d6d0b0ed2e9b584352" title="Initialize the twi master module. " alt="" coords="389,284,511,311"/><area shape="rect" id="node15" href="i2c__driver__int_8c.html#ab89cf2aa9741bf7d6ef45bd531cd1324" title="Initialize the i2c driver. " alt="" coords="601,284,703,311"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c2af872968780a2d1c867ea557626c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">status_code_t twim_write_packet </td>
          <td>(</td>
          <td class="paramtype">volatile avr32_twim_t *&#160;</td>
          <td class="paramname"><em>twim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtwim__package__t.html">twim_package_t</a> *&#160;</td>
          <td class="paramname"><em>package</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write multiple bytes to a TWI compatible slave device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">twim</td><td>Base address of the TWIM (i.e. &amp;AVR32_TWIM) </td></tr>
    <tr><td class="paramname">*package</td><td>Package information and data (see <a class="el" href="structtwim__package__t.html">twim_package_t</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>If all bytes were send successfully </td></tr>
    <tr><td class="paramname">ERR_IO_ERROR</td><td>NACK received or Bus Arbitration lost </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="twim_8c_a5c2af872968780a2d1c867ea557626c7_cgraph.png" border="0" usemap="#twim_8c_a5c2af872968780a2d1c867ea557626c7_cgraph" alt=""/></div>
<map name="twim_8c_a5c2af872968780a2d1c867ea557626c7_cgraph" id="twim_8c_a5c2af872968780a2d1c867ea557626c7_cgraph">
<area shape="rect" id="node2" href="twim_8c.html#ac2aa557dd4843af848081c10049cf29f" title="Disable the TWI interrupts and clear its status register. " alt="" coords="184,5,336,32"/><area shape="rect" id="node3" href="twim_8c.html#a62690e0414009d7ce7ab472a27c7726d" title="Information about the current status of the TWI Bus. " alt="" coords="213,56,307,83"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 18 2014 14:18:46 for MAV&#39;RIC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
